# 4.1 Отладка JavaScript

## 4.2 

_Задание._
Командой CodeSchool в наш календарь был добавлен метод Calendar.clearEvents(), но, похоже, после попытки запустить его обнаружилась ошибка. Перейти к неисправной линии во вкладке Sources.

_Решение._
В консоли видим ошибку и кликаем по ссылке справа, как [в прошлой главе](https://github.com/preigile/codeschool-hints/blob/master/Electives/Discover_DevTools/3.console.md#38).

## 4.3 

_Задание._
Похоже, на events был вызван неверный метод. Нам нужно .remove(), а не .destroy(). Исправить это, а затем сохранить изменения. 
```javascript
window.Calendar.clearEvents = function () {
    events = $(".events .event");
    $.each(events, function (index, event) {
        event.destroy();
    });
};

$(window).load(function () {
    Calendar.clearEvents();
});
```

_Решение._
Во вкладке Sources, в окошке с кодом заменим метод .destroy() на .remove() и сохраним изменения (правый клик => Save).

## 4.4 

_Задание._
Вызвать Calendar.clearEvents() из вкладки Console, чтобы проверить, что ошибка была успешно фиксирована.

_Решение._
Введя в консоли `Calendar.clearEvents()` и нажав Enter видим, что ошибки больше на появляется, а все события теперь удалены из календаря.

# 4.5 Пауза на исключении

## 4.6 

_Задание._
Командой была добавлена возможность "Add Event", но она ломается! Кликнуть на кнопку "Add Event" и попытаться создать новое событие… а затем перейти к файлу с ошибкой.

_Решение._
И снова перейдём по ссылке в Sources.

## 4.7

_Задание._
Включить pause on exception.

_Решение._
Во вкладке Sources, в верхней строке правого окошка в ряд располагаются несколько символов. Первым справа является символ паузы в сером восьмиугольнике. При нажатии на него восьмиугольник меняет цвет на синий, теперь при появлении ошибки выполнение кода приостанавливантся.

## 4.8 

_Задание._
Снова кликнуть по "Create Event", чтобы приостановить выполнение событий на линии с ошибкой. Похоже, ошибка в CSS селекторе. Класс формы "create", а не "createForm". Исправить проблему и сохранить изменения, а затем возобновить отладчик.
```javascript
Calendar.createEvent = function () {
    var field = $('.createForm input[type="text"]')[0];
    var name = field.value;
    if (name == "") {
        $(field).addClass('required');
    }
    else {
        Calendar.saveEvent({name: name, date: Calendar.displayedDate});
        Calendar.displayToday();
        $(field).removeClass('required').val('');
    }
};
```

_Решение._
Исправим неверное название класса.

## 4.9

_Задание._
Теперь добавить событие, чтобы проверить, что баг исправлен.

_Решение._
Нажмём на кнопку "Add Event" и увидим, что теперь событие добавляется.

## 4.10

_Задание._
Прежде чем мы двинемся дальше, выключить паузу на исключения.

_Решение._
Ещё раз нажмём на символ паузы, чтобы выключить её.

# 4.11 Локальное хранение данных

## 4.12

_Задание._
Найти список событий в локальном хранилище и изменить "Build Robot" на "Build Death Ray" в примере приложения.

_Решение._
Во вкладке Resources располагаются дополнительные ресурсы приложения. Одним из них является локальное хранилище (Local Storage). Его содержимое разбито на ключи и значения. В ключах найдём events, значением которого является JSON, в котором и изменим "Build Robot" на "Build Death Ray”.

## 4.13

_Задание._
Теперь, когда данные в локальном хранилище изменены, обновить список событий, вызвав Calendar.displayToday() из консоли.  

_Решение._
Вызовем из консоли Calendar.displayToday() и увидим, что название события на странице изменилось.